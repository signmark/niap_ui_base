# Инструкция по обновлению скрипта deploy.sh

Для улучшения процесса деплоя обновите ваш скрипт `deploy.sh`, который находится в родительской директории (уровнем выше директории smm).

## Обновление deploy.sh

1. Скопируйте содержимое файла `copy_to_parent_deploy.sh` из репозитория и вставьте его в файл `deploy.sh` в родительской директории:

```bash
# На сервере
cd ~  # Или перейдите в родительскую директорию, где расположен текущий deploy.sh
nano deploy.sh  # Или используйте другой редактор (vim, etc.)
```

2. Замените всё содержимое файла содержимым из `copy_to_parent_deploy.sh`.

3. Сохраните файл и сделайте его исполняемым:

```bash
chmod +x deploy.sh
```

## Что обновлено в скрипте deploy.sh

1. **Резервное копирование .env**: Автоматически создает резервную копию .env перед очисткой Docker.

2. **Копирование конфигураций**: 
   - Обнаруживает и копирует fixed-docker-compose.yml в родительскую директорию
   - Создает .env из env.example, если .env не существует

3. **Проверка настроек Beget S3**:
   - Выводит предупреждение о необходимости проверки ключей Beget S3
   - Запрашивает подтверждение перед продолжением

4. **Установка AWS SDK**:
   - Автоматически устанавливает необходимые пакеты AWS SDK в контейнере
   - Перезапускает контейнер после установки

5. **Улучшенный UI**:
   - Цветные сообщения для лучшей читаемости
   - Информативные сообщения о каждом шаге
   - Проверки успешности выполнения команд

## Как использовать

Запустите скрипт из родительской директории:

```bash
./deploy.sh
```

Следуйте инструкциям на экране для завершения процесса деплоя.