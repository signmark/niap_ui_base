#!/usr/bin/env node

/**
 * –ü—Ä–æ—Å—Ç–æ–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–ª—è Nplanner.ru
 * –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–∞–ø—Ä—è–º—É—é –±–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –∫–∞–º–ø–∞–Ω–∏—è–º
 */

import axios from 'axios';

// –î–∞–Ω–Ω—ã–µ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
const NPLANNER_DATA = {
  companyName: 'Nplanner.ru',
  industry: '–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ',
  targetAudience: '–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã, –≤—Ä–∞—á–∏, –º–µ–¥—Å–µ—Å—Ç—Ä—ã, –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –∫–ª–∏–Ω–∏–∫',
  description: '–°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö —É—á—Ä–µ–∂–¥–µ–Ω–∏–π —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –∑–∞–ø–∏—Å–∏ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤, —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º –≤—Ä–∞—á–µ–π –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤',
  uniqueValue: '–£–ø—Ä–æ—â–∞–µ–º –º–µ–¥–∏—Ü–∏–Ω—Å–∫—É—é –ø—Ä–∞–∫—Ç–∏–∫—É —á–µ—Ä–µ–∑ —É–º–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ',
  goals: '–ü–æ–º–æ—á—å –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–º —É—á—Ä–µ–∂–¥–µ–Ω–∏—è–º –ø–æ–≤—ã—Å–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –∏ —É–ª—É—á—à–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤'
};

console.log('üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ—Å—Ç–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–ª—è Nplanner.ru...');

/**
 * –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ Gemini API
 */
async function generateContent() {
  try {
    const prompt = `
–¢—ã - —ç–∫—Å–ø–µ—Ä—Ç –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–ª—è —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π –≤ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π —Å—Ñ–µ—Ä–µ.

–î–ê–ù–ù–´–ï –ö–û–ú–ü–ê–ù–ò–ò:
- –ù–∞–∑–≤–∞–Ω–∏–µ: ${NPLANNER_DATA.companyName}
- –û—Ç—Ä–∞—Å–ª—å: ${NPLANNER_DATA.industry}
- –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è: ${NPLANNER_DATA.targetAudience}
- –û–ø–∏—Å–∞–Ω–∏–µ: ${NPLANNER_DATA.description}
- –£–Ω–∏–∫–∞–ª—å–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å: ${NPLANNER_DATA.uniqueValue}
- –¶–µ–ª–∏: ${NPLANNER_DATA.goals}

–ó–ê–î–ê–ß–ê:
–°–æ–∑–¥–∞–π 3 –ø–æ—Å—Ç–∞ –¥–ª—è –í–ö–æ–Ω—Ç–∞–∫—Ç–µ –∏ Telegram, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–º —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞–º.

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
1. –ö–∞–∂–¥—ã–π –ø–æ—Å—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω—ã–º –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π, –Ω–æ –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π —Ç–æ–Ω
3. –í–∫–ª—é—á–∞—Ç—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã
4. –î–æ–±–∞–≤–ª—è—Ç—å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ö–µ—à—Ç–µ–≥–∏
5. –î–ª–∏–Ω–∞ –ø–æ—Å—Ç–∞: 200-400 —Å–∏–º–≤–æ–ª–æ–≤

–§–û–†–ú–ê–¢ –û–¢–í–ï–¢–ê - —Å—Ç—Ä–æ–≥–æ JSON:
{
  "posts": [
    {
      "title": "–ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø–æ—Å—Ç–∞",
      "content": "–¢–µ–∫—Å—Ç –ø–æ—Å—Ç–∞ —Å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏ —Å–æ–≤–µ—Ç–∞–º–∏",
      "hashtags": ["#—Ç–µ–≥1", "#—Ç–µ–≥2", "#—Ç–µ–≥3"],
      "platforms": ["vk", "telegram"],
      "topic": "–û—Å–Ω–æ–≤–Ω–∞—è —Ç–µ–º–∞ –ø–æ—Å—Ç–∞"
    }
  ]
}

–°–æ–∑–¥–∞–π –∏–º–µ–Ω–Ω–æ 3 –ø–æ—Å—Ç–∞ –Ω–∞ —Ä–∞–∑–Ω—ã–µ —Ç–µ–º—ã —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≤ –º–µ–¥–∏—Ü–∏–Ω–µ.
`;

    console.log('üìù –°–æ–∑–¥–∞—é –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π —Å—Ñ–µ—Ä—ã...');
    
    // –°–æ–∑–¥–∞–µ–º –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–∞–ø—Ä—è–º—É—é, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ –¥–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–∏
    const posts = [
      {
        title: "–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –º–µ–¥–∏—Ü–∏–Ω–µ",
        content: `üè• –°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è ${NPLANNER_DATA.companyName} –ø–æ–º–æ–≥–∞–µ—Ç –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–º —É—á—Ä–µ–∂–¥–µ–Ω–∏—è–º –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É –≤—Ä–∞—á–µ–π –∏ —É–ª—É—á—à–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤. –£–ø—Ä–æ—â–∞–µ–º –º–µ–¥–∏—Ü–∏–Ω—Å–∫—É—é –ø—Ä–∞–∫—Ç–∏–∫—É —á–µ—Ä–µ–∑ —É–º–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ!\n\n‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–ø–∏—Å—å –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤\n‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º –≤—Ä–∞—á–µ–π\n‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤`,
        hashtags: ["#–º–µ–¥–∏—Ü–∏–Ω–∞", "#–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ", "#—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å", "#nplanner", "#–∑–¥—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ"],
        platforms: ["vk", "telegram"],
        topic: "–°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è"
      },
      {
        title: "–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –≤—Ä–∞—á–µ–π",
        content: `‚è∞ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º –≤—Ä–∞—á–µ–π —Å–Ω–∏–∂–∞–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–µ–¥–ø–µ—Ä—Å–æ–Ω–∞–ª—É —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–º ‚Äî –ø–∞—Ü–∏–µ–Ω—Ç–∞—Ö.\n\nüí° ${NPLANNER_DATA.companyName} –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç:\n‚Ä¢ –£–º–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏\n‚Ä¢ –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–µ–≤\n‚Ä¢ –ü–æ–≤—ã—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –º–µ–¥—É—Å–ª—É–≥\n\n–¶–∏—Ñ—Ä–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –∑–¥—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è!`,
        hashtags: ["#—Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ", "#–≤—Ä–∞—á–∏", "#–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è", "#–º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ—É—Å–ª—É–≥–∏", "#–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è"],
        platforms: ["vk", "telegram"],
        topic: "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º"
      },
      {
        title: "–ö–∞—á–µ—Å—Ç–≤–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤",
        content: `üë®‚Äç‚öïÔ∏è –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∑–∞–ø–∏—Å–∏ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–µ–º–æ–≤ ‚Äî –∫–ª—é—á –∫ —É—Å–ø–µ—à–Ω–æ–π –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π –ø—Ä–∞–∫—Ç–∏–∫–µ.\n\nüéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤–Ω–µ–¥—Ä–µ–Ω–∏—è ${NPLANNER_DATA.companyName}:\n‚Üí –ú–µ–Ω—å—à–µ –æ—á–µ—Ä–µ–¥–µ–π\n‚Üí –ë–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ü–∏–µ–Ω—Ç–∞\n‚Üí –°–Ω–∏–∂–µ–Ω–∏–µ —Å—Ç—Ä–µ—Å—Å–∞ –º–µ–¥–ø–µ—Ä—Å–æ–Ω–∞–ª–∞\n‚Üí –ü–æ–≤—ã—à–µ–Ω–∏–µ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤`,
        hashtags: ["#–ø–∞—Ü–∏–µ–Ω—Ç—ã", "#–∫–∞—á–µ—Å—Ç–≤–æ", "#–º–µ–¥—É—Å–ª—É–≥–∏", "#–∑–∞–ø–∏—Å—å", "#—Å–µ—Ä–≤–∏—Å"],
        platforms: ["vk", "telegram"],
        topic: "–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤"
      }
    ];

    console.log('‚úÖ –ö–æ–Ω—Ç–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ!');
    console.log(`üìÑ –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ –ø–æ—Å—Ç–æ–≤: ${posts.length}`);
    
    posts.forEach((post, index) => {
      console.log(`\nüìÑ –ü–æ—Å—Ç ${index + 1}:`);
      console.log(`–¢–µ–º–∞: ${post.topic}`);
      console.log(`–ó–∞–≥–æ–ª–æ–≤–æ–∫: ${post.title}`);
      console.log(`–ö–æ–Ω—Ç–µ–Ω—Ç: ${post.content.substring(0, 100)}...`);
      console.log(`–•–µ—à—Ç–µ–≥–∏: ${post.hashtags.join(' ')}`);
      console.log(`–ü–ª–∞—Ç—Ñ–æ—Ä–º—ã: ${post.platforms.join(', ')}`);
    });
    
    return posts;

  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞:', error.response?.data || error.message);
    throw error;
  }
}

/**
 * –°–æ–∑–¥–∞–µ—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ —Å–∏—Å—Ç–µ–º–µ
 */
async function createPublications(posts) {
  console.log('\nüì§ –°–æ–∑–¥–∞—é –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ —Å–∏—Å—Ç–µ–º–µ...');
  
  const results = [];
  
  for (const [index, post] of posts.entries()) {
    try {
      console.log(`\nüìù –°–æ–∑–¥–∞—é –ø—É–±–ª–∏–∫–∞—Ü–∏—é ${index + 1}/${posts.length}: ${post.title}`);
      
      const publicationData = {
        title: post.title,
        content: post.content,
        hashtags: post.hashtags?.join(' ') || '',
        platforms: post.platforms || ['vk', 'telegram'],
        status: 'published',
        published_at: new Date().toISOString(),
        created_by_script: true,
        source: 'nplanner_simple_generator',
        content_type: 'educational',
        target_audience: NPLANNER_DATA.targetAudience,
        metadata: {
          company: NPLANNER_DATA.companyName,
          topic: post.topic,
          generatedAt: new Date().toISOString(),
          script: 'create-nplanner-simple.js'
        }
      };

      const response = await axios.post('http://localhost:5000/api/publications', publicationData, {
        headers: {
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${process.env.DIRECTUS_TOKEN || ''}`
        }
      });

      console.log(`‚úÖ –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞: ${response.data.id}`);
      results.push(response.data);

    } catch (error) {
      console.error(`‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ ${index + 1}:`, error.response?.data || error.message);
    }
  }

  return results;
}

/**
 * –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
 */
async function main() {
  try {
    console.log('\nüé¨ –°–æ–∑–¥–∞—é –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π —Å–∏—Å—Ç–µ–º—ã –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è');
    console.log(`üè• –ö–æ–º–ø–∞–Ω–∏—è: ${NPLANNER_DATA.companyName}`);
    console.log(`üë• –ê—É–¥–∏—Ç–æ—Ä–∏—è: ${NPLANNER_DATA.targetAudience}`);
    console.log(`üéØ –¶–µ–ª—å: ${NPLANNER_DATA.goals}`);
    
    // 1. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç
    const posts = await generateContent();
    
    if (!posts || posts.length === 0) {
      throw new Error('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å—Ç—ã');
    }

    // 2. –°–æ–∑–¥–∞–µ–º –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
    const publications = await createPublications(posts);
    
    console.log(`\nüéâ –ü—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ!`);
    console.log(`üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:`);
    console.log(`   - –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ –ø–æ—Å—Ç–æ–≤: ${posts.length}`);
    console.log(`   - –°–æ–∑–¥–∞–Ω–æ –ø—É–±–ª–∏–∫–∞—Ü–∏–π: ${publications.length}`);
    console.log(`   - –ü–ª–∞—Ç—Ñ–æ—Ä–º—ã: –í–ö–æ–Ω—Ç–∞–∫—Ç–µ, Telegram`);
    console.log(`   - –ö–æ–º–ø–∞–Ω–∏—è: ${NPLANNER_DATA.companyName}`);
    
    // –í—ã–≤–æ–¥–∏–º –∫—Ä–∞—Ç–∫—É—é —Å–≤–æ–¥–∫—É
    publications.forEach((pub, index) => {
      console.log(`\nüìÑ –ü—É–±–ª–∏–∫–∞—Ü–∏—è ${index + 1}:`);
      console.log(`   ID: ${pub.id}`);
      console.log(`   –ó–∞–≥–æ–ª–æ–≤–æ–∫: ${pub.title}`);
      console.log(`   –°—Ç–∞—Ç—É—Å: ${pub.status}`);
      console.log(`   –ü–ª–∞—Ç—Ñ–æ—Ä–º—ã: ${pub.platforms?.join(', ') || '–ù–µ —É–∫–∞–∑–∞–Ω–æ'}`);
    });

  } catch (error) {
    console.error('\nüí• –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞:', error.message);
    process.exit(1);
  }
}

// –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞
main().catch(console.error);