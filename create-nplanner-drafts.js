#!/usr/bin/env node

/**
 * –°–æ–∑–¥–∞–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è Nplanner.ru –≤ –≤–∏–¥–µ —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤
 * –ë–µ–∑ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç—è—Ö
 */

import axios from 'axios';

console.log('üìù –°–æ–∑–¥–∞—é –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è Nplanner.ru (—Ç–æ–ª—å–∫–æ —á–µ—Ä–Ω–æ–≤–∏–∫–∏)...');

const NPLANNER_DATA = {
  companyName: "Nplanner.ru",
  description: "–°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö —É—á—Ä–µ–∂–¥–µ–Ω–∏–π",
  targetAudience: "–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã, –≤—Ä–∞—á–∏, –º–µ–¥—Å–µ—Å—Ç—Ä—ã, –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –∫–ª–∏–Ω–∏–∫",
  uniqueValue: "–ü–æ–º–æ–≥–∞–µ—Ç –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–º —É—á—Ä–µ–∂–¥–µ–Ω–∏—è–º –ø–æ–≤—ã—Å–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –∏ —É–ª—É—á—à–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤"
};

const posts = [
  {
    title: "–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –º–µ–¥–∏—Ü–∏–Ω–µ",
    content: `üè• –°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è ${NPLANNER_DATA.companyName} –ø–æ–º–æ–≥–∞–µ—Ç –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–º —É—á—Ä–µ–∂–¥–µ–Ω–∏—è–º –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É –≤—Ä–∞—á–µ–π –∏ —É–ª—É—á—à–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤. –£–ø—Ä–æ—â–∞–µ–º –º–µ–¥–∏—Ü–∏–Ω—Å–∫—É—é –ø—Ä–∞–∫—Ç–∏–∫—É —á–µ—Ä–µ–∑ —É–º–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ!

‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–ø–∏—Å—å –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤
‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º –≤—Ä–∞—á–µ–π  
‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

#–º–µ–¥–∏—Ü–∏–Ω–∞ #–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ #—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å #nplanner #–∑–¥—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ`,
    hashtags: ["#–º–µ–¥–∏—Ü–∏–Ω–∞", "#–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ", "#—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å", "#nplanner", "#–∑–¥—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ"],
    platforms: ["vk", "telegram"],
    topic: "–°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è"
  },
  {
    title: "–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –≤—Ä–∞—á–µ–π",
    content: `‚è∞ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º –≤—Ä–∞—á–µ–π —Å–Ω–∏–∂–∞–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–µ–¥–ø–µ—Ä—Å–æ–Ω–∞–ª—É —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–º ‚Äî –ø–∞—Ü–∏–µ–Ω—Ç–∞—Ö.

üí° ${NPLANNER_DATA.companyName} –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç:
‚Ä¢ –£–º–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
‚Ä¢ –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–µ–≤  
‚Ä¢ –ü–æ–≤—ã—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –º–µ–¥—É—Å–ª—É–≥

–¶–∏—Ñ—Ä–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –∑–¥—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è!

#—Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ #–≤—Ä–∞—á–∏ #–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è #–º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ—É—Å–ª—É–≥–∏ #–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è`,
    hashtags: ["#—Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ", "#–≤—Ä–∞—á–∏", "#–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è", "#–º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ—É—Å–ª—É–≥–∏", "#–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è"],
    platforms: ["vk", "telegram"],
    topic: "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º"
  },
  {
    title: "–ö–∞—á–µ—Å—Ç–≤–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤",
    content: `üë®‚Äç‚öïÔ∏è –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∑–∞–ø–∏—Å–∏ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–µ–º–æ–≤ ‚Äî –∫–ª—é—á –∫ —É—Å–ø–µ—à–Ω–æ–π –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π –ø—Ä–∞–∫—Ç–∏–∫–µ.

üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤–Ω–µ–¥—Ä–µ–Ω–∏—è ${NPLANNER_DATA.companyName}:
‚Üí –ú–µ–Ω—å—à–µ –æ—á–µ—Ä–µ–¥–µ–π
‚Üí –ë–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ü–∏–µ–Ω—Ç–∞
‚Üí –°–Ω–∏–∂–µ–Ω–∏–µ —Å—Ç—Ä–µ—Å—Å–∞ –º–µ–¥–ø–µ—Ä—Å–æ–Ω–∞–ª–∞
‚Üí –ü–æ–≤—ã—à–µ–Ω–∏–µ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤

#–ø–∞—Ü–∏–µ–Ω—Ç—ã #–∫–∞—á–µ—Å—Ç–≤–æ #–º–µ–¥—É—Å–ª—É–≥–∏ #–∑–∞–ø–∏—Å—å #—Å–µ—Ä–≤–∏—Å`,
    hashtags: ["#–ø–∞—Ü–∏–µ–Ω—Ç—ã", "#–∫–∞—á–µ—Å—Ç–≤–æ", "#–º–µ–¥—É—Å–ª—É–≥–∏", "#–∑–∞–ø–∏—Å—å", "#—Å–µ—Ä–≤–∏—Å"],
    platforms: ["vk", "telegram"],
    topic: "–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤"
  },
  {
    title: "–¶–∏—Ñ—Ä–æ–≤–∞—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –º–µ–¥–∏—Ü–∏–Ω—ã",
    content: `üî¨ –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Ü–∏—Ñ—Ä–æ–≤—ã–º —Ä–µ—à–µ–Ω–∏—è–º –≤ –º–µ–¥–∏—Ü–∏–Ω–µ - –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ç—Ä–µ–Ω–¥, –∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –∑–¥—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è.

‚ö° ${NPLANNER_DATA.companyName} —É—Å–∫–æ—Ä—è–µ—Ç —Ü–∏—Ñ—Ä–æ–≤–∏–∑–∞—Ü–∏—é:
üèÜ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä—É—Ç–∏–Ω–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
üèÜ –°–Ω–∏–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
üèÜ –≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏ –≤—Ä–∞—á–µ–π –∏ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤
üèÜ –ü–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã –∫–ª–∏–Ω–∏–∫–∏

–ë—É–¥—É—â–µ–µ –º–µ–¥–∏—Ü–∏–Ω—ã –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å–µ–≥–æ–¥–Ω—è!

#—Ü–∏—Ñ—Ä–æ–≤–∏–∑–∞—Ü–∏—è #–º–µ–¥–∏—Ü–∏–Ω–∞ #–∏–Ω–Ω–æ–≤–∞—Ü–∏–∏ #—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ #nplanner`,
    hashtags: ["#—Ü–∏—Ñ—Ä–æ–≤–∏–∑–∞—Ü–∏—è", "#–º–µ–¥–∏—Ü–∏–Ω–∞", "#–∏–Ω–Ω–æ–≤–∞—Ü–∏–∏", "#—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏", "#nplanner"],
    platforms: ["vk", "telegram"],
    topic: "–¶–∏—Ñ—Ä–æ–≤–∏–∑–∞—Ü–∏—è –º–µ–¥–∏—Ü–∏–Ω—ã"
  },
  {
    title: "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏",
    content: `üíä –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏ - –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—à–Ω–æ–π —Ä–∞–±–æ—Ç—ã –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–≥–æ —É—á—Ä–µ–∂–¥–µ–Ω–∏—è.

üéØ ${NPLANNER_DATA.companyName} –ø–æ–º–æ–≥–∞–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å:
üìã –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
üìã –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ–¥–ø–µ—Ä—Å–æ–Ω–∞–ª–∞
üìã –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–±–∏–Ω–µ—Ç–∞–º–∏ –∏ –ø–∞–ª–∞—Ç–∞–º–∏
üìã –ö–æ–Ω—Ç—Ä–æ–ª—å –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

–£–º–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ = –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å!

#—Ä–µ—Å—É—Ä—Å—ã #—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ #–º–µ–¥–∏—Ü–∏–Ω–∞ #–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ #—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å`,
    hashtags: ["#—Ä–µ—Å—É—Ä—Å—ã", "#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ", "#–º–µ–¥–∏—Ü–∏–Ω–∞", "#–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ", "#—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å"],
    platforms: ["vk", "telegram"],
    topic: "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏"
  }
];

async function createContentDrafts() {
  const headers = {
    'Authorization': `Bearer ${process.env.DIRECTUS_TOKEN || ''}`,
    'Content-Type': 'application/json'
  };

  const results = [];

  console.log(`üè• –ö–æ–º–ø–∞–Ω–∏—è: ${NPLANNER_DATA.companyName}`);
  console.log(`üéØ –ê—É–¥–∏—Ç–æ—Ä–∏—è: ${NPLANNER_DATA.targetAudience}`);
  console.log(`üìù –°–æ–∑–¥–∞–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞: ${posts.length}`);

  for (let i = 0; i < posts.length; i++) {
    const post = posts[i];
    
    console.log(`\nüìÑ –°–æ–∑–¥–∞—é –∫–æ–Ω—Ç–µ–Ω—Ç ${i + 1}/${posts.length}: ${post.title}`);
    
    try {
      const contentData = {
        title: post.title,
        content: post.content,
        hashtags: post.hashtags.join(' '),
        platforms: post.platforms,
        status: 'draft', // –ß–µ—Ä–Ω–æ–≤–∏–∫
        type: 'text',
        source: 'nplanner_draft_generator',
        target_audience: NPLANNER_DATA.targetAudience,
        content_type: 'promotional',
        metadata: {
          company: NPLANNER_DATA.companyName,
          topic: post.topic,
          generatedAt: new Date().toISOString(),
          script: 'create-nplanner-drafts.js'
        }
      };

      // –ü—Ä–æ–±—É–µ–º —Ä–∞–∑–Ω—ã–µ endpoints –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
      let response;
      try {
        // –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–±—É–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π endpoint –∫–æ–Ω—Ç–µ–Ω—Ç–∞
        response = await axios.post('http://localhost:5000/api/content', contentData, { headers });
      } catch (error) {
        if (error.response?.status === 404) {
          // –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω, –ø—Ä–æ–±—É–µ–º publications —Å draft —Å—Ç–∞—Ç—É—Å–æ–º
          response = await axios.post('http://localhost:5000/api/publications', contentData, { headers });
        } else {
          throw error;
        }
      }

      console.log(`‚úÖ –ö–æ–Ω—Ç–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω: ${response.data?.id || 'ID –Ω–µ —É–∫–∞–∑–∞–Ω'}`);
      console.log(`   –ó–∞–≥–æ–ª–æ–≤–æ–∫: ${post.title}`);
      console.log(`   –°—Ç–∞—Ç—É—Å: draft (—á–µ—Ä–Ω–æ–≤–∏–∫)`);
      
      results.push({
        id: response.data?.id,
        title: post.title,
        status: 'draft',
        topic: post.topic
      });
      
      // –ü–∞—É–∑–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
      await new Promise(resolve => setTimeout(resolve, 500));
      
    } catch (error) {
      console.error(`‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ "${post.title}":`, error.response?.data || error.message);
    }
  }

  return results;
}

async function main() {
  try {
    const results = await createContentDrafts();
    
    console.log('\nüéâ –ü—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–µ–Ω!');
    console.log(`üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:`);
    console.log(`   - –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ: ${posts.length}`);
    console.log(`   - –°–æ–∑–¥–∞–Ω–æ —É—Å–ø–µ—à–Ω–æ: ${results.length}`);
    console.log(`   - –°—Ç–∞—Ç—É—Å: –ß–µ—Ä–Ω–æ–≤–∏–∫–∏ (–ù–ï –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã)`);
    
    if (results.length > 0) {
      console.log('\nüìã –°–æ–∑–¥–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç:');
      results.forEach((item, index) => {
        console.log(`   ${index + 1}. ${item.title} (ID: ${item.id || '–Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω'})`);
        console.log(`      –¢–µ–º–∞: ${item.topic}`);
      });
      
      console.log('\n‚úÖ –í—Å–µ –∫–æ–Ω—Ç–µ–Ω—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –∫–∞–∫ —á–µ—Ä–Ω–æ–≤–∏–∫–∏');
      console.log('üìù –°—Ç–∞—Ç—É—Å: draft - –≥–æ—Ç–æ–≤—ã –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è');
      console.log('üö´ –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ —Å–æ—Ü—Å–µ—Ç–∏: –ù–ï –≤—ã–ø–æ–ª–Ω–µ–Ω–∞');
    } else {
      console.log('\n‚ùå –ö–æ–Ω—Ç–µ–Ω—Ç –Ω–µ –±—ã–ª —Å–æ–∑–¥–∞–Ω');
    }
    
  } catch (error) {
    console.error('‚ùå –û–±—â–∞—è –æ—à–∏–±–∫–∞:', error.message);
  }
}

main().catch(console.error);