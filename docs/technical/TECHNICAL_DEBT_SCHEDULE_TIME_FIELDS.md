# Технический долг: Дублирование полей scheduledAt и scheduled_at

## Обнаруженная проблема

Для обеспечения совместимости между различными частями системы, в JSON-структуре `socialPlatforms` для каждой платформы добавляются сразу два поля с одинаковым значением времени:
- `scheduledAt` (camelCase формат)
- `scheduled_at` (snake_case формат)

Пример текущей структуры данных:
```json
{
    "vk": {
        "error": null,
        "postId": null,
        "status": "pending",
        "postUrl": null,
        "publishedAt": null,
        "scheduledAt": "2025-04-14T15:30:00.000Z",
        "scheduled_at": "2025-04-14T15:30:00.000Z"
    },
    "telegram": {
        "error": null,
        "postId": null,
        "status": "pending",
        "postUrl": null,
        "publishedAt": null,
        "scheduledAt": "2025-04-14T15:30:00.000Z",
        "scheduled_at": "2025-04-14T15:30:00.000Z"
    }
}
```

## Причина появления

Различные компоненты системы используют разные соглашения об именовании:
1. Frontend и сервисы на TypeScript обычно используют camelCase формат (`scheduledAt`)
2. Directus API и база данных обычно используют snake_case формат (`scheduled_at`)

Дублирование было добавлено для обеспечения бесперебойной работы системы при срочном исправлении ошибки, когда время публикации не устанавливалось для отдельных платформ.

## Рекомендация по устранению

1. Провести аудит кода для определения единого стандарта именования полей даты/времени
2. Стандартизировать использование одного формата во всей системе:
   - Выбрать `scheduledAt` или `scheduled_at` в качестве основного формата
   - Обновить все компоненты системы для использования выбранного формата
   - Добавить конвертеры полей при необходимости в местах интеграции

3. Реализовать миграцию данных:
   - Создать скрипт для перемещения значений из неиспользуемого формата в выбранный формат
   - Удалить дублирующие поля из базы данных

4. Обновить документацию API, указав правильный формат полей для дат и времени

## Приоритет

Средний - избыточное хранение данных не вызывает функциональных проблем, но увеличивает объем данных и усложняет поддержку кода.

## Оценка трудозатрат

1-2 дня работы, включая аудит, рефакторинг, тестирование и миграцию данных.