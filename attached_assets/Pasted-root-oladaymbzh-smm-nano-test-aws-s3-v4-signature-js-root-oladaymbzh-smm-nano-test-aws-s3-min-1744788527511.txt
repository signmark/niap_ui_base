root@oladaymbzh:~/smm# nano test-aws-s3-v4-signature.js
root@oladaymbzh:~/smm# nano test-aws-s3-minimal.js
root@oladaymbzh:~/smm# node test-aws-s3-v4-signature.js
Creating S3 client with v4 signature...
Sending ListBucketsCommand...
ERROR: TypeError: SignerCtor is not a constructor
    at signer (/root/smm/node_modules/@aws-sdk/core/dist-cjs/submodules/httpAuthSchemes/index.js:286:14)
    at async validateSigningProperties (/root/smm/node_modules/@aws-sdk/core/dist-cjs/submodules/httpAuthSchemes/index.js:75:18)
    at async AwsSdkSigV4Signer.sign (/root/smm/node_modules/@aws-sdk/core/dist-cjs/submodules/httpAuthSchemes/index.js:95:28)
    at async /root/smm/node_modules/@aws-sdk/middleware-sdk-s3/dist-cjs/index.js:482:15
    at async /root/smm/node_modules/@smithy/middleware-retry/dist-cjs/index.js:320:38
    at async /root/smm/node_modules/@aws-sdk/middleware-sdk-s3/dist-cjs/index.js:110:22
    at async /root/smm/node_modules/@aws-sdk/middleware-sdk-s3/dist-cjs/index.js:137:14
    at async /root/smm/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js:33:22
    at async testS3Connection (file:///root/smm/test-aws-s3-v4-signature.js:29:22) {
  '$metadata': { attempts: 1, totalRetryDelay: 0 }
}
root@oladaymbzh:~/smm# node test-aws-s3-minimal.js
Executing GET request to /...
Canonical Request: GET
/

host:s3.ru1.storage.beget.cloud
x-amz-date:20250416T072837Z

host;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
String to Sign: AWS4-HMAC-SHA256
20250416T072837Z
20250416/ru1/s3/aws4_request
b2e6f58aeddc72b9a5076c08ec0020ee43b394d04c3a79a6ff48e49664e00f74
Final URL: https://s3.ru1.storage.beget.cloud/
Final Headers: {
  host: 's3.ru1.storage.beget.cloud',
  'x-amz-date': '20250416T072837Z',
  Authorization: 'AWS4-HMAC-SHA256 Credential=9GKHSCY027DGMDRR7682/20250416/ru1/s3/aws4_request, SignedHeaders=host;x-amz-date, Signature=0ce7811e8f949f98da852d9c268f3b6d5e2179c140b3f7743e428fa0fcf449a9'
}
ERROR: Request failed with status code 403
Response Status: 403
Response Data: <?xml version="1.0" encoding="UTF-8"?><Error><Code>SignatureDoesNotMatch</Code><Message></Message><RequestId>tx00000c720dbf56011508f-0067ff5c25-3b626a-default</RequestId><HostId>3b626a-default-default</HostId></Error>
root@oladaymbzh:~/smm#